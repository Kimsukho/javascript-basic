<!DOCTYPE html>
<html>
<head>
    <title>Document</title>
</head>
<body>

    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script>

        // ES6 - EcmaScript 6버전에 추가된
        // Promise
        // : 자바스크립트 비동기 처리에 사용되는 객체

        var x = 1;

        // 서버 호출에서 데이터를 받아오는 함수
        // y = callServerData();

        var z = x + 2;

        // axios (오픈 소스 라이브러리)
        // <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"> 추가

        // 가짜 서버 만든 URL 주소
        var url = "https://0144ece0-2710-4df2-9f58-be69b762ba62.mock.pstmn.io/productList";
        
        // var data = axios.get(url).then(function(response){
        //     console.log(response.data);
        //     return response.data;
        // });

        function getData() {
            //promise
            return new Promise(function(resolve, reject){
                axios.get(url).then(function(response){
                    console.log(response.data);
                    resolve(response.data);
                });
            });
        }

        
        var total = 0;

        getData().then(function(data){
            for(var item of data) {
                total += item.price;
            }

            console.log(total);
        });
        
    </script>
</body>
</html>