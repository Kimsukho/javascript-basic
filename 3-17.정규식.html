<!DOCTYPE html>
<html>
<head>
  <title>Document</title>
</head>
<body>
  <script>

    // 정규식(RegExp, Regular Expression)
    // : 패턴을 이용한 검색

    var patt = /World/i; //World - 패턴, i-modifier

    var str = "Hello WORLD! world!";
    console.log(str.search("World")); // -1

    console.log(str.search(/World/)); // -1
    
    // i
    // : 대소문자 구분하지 않고 찾겠다, (1개만)
    console.log(str.search(/world/i)); // 6


    console.log(str.replace("WORLD", "Jeremy"));  // Hello Jeremy! world!

    console.log(str.replace("world", "Jeremy"));  // Hello WORLD! Jeremy!
    // str에서 대소문자 구분을 하지 못하여 world를 못찾아 str 출력함

    console.log(str.replace(/world/i, "Jeremy"));  // Hello Jeremy! world!

    // g
    // : 대소문자 구분하여 모든 것을 찾는다.
    console.log(str.replace(/world/ig, "Jeremy"));  // Hello Jeremy! Jeremy!

    // [] 
    // : 대괄호 안에 있는 문자를 str이라는 문자열에서 찾겠다.
    var str = "Is this all there is";
    var patt1 = /[hat]/g;   // [hat]g : h, a, t 문자를 모두 찾겠다.
    var result = str.match(patt1);
    console.log(result);    // ['t', 'h', 'a', 't', 'h']

    // [0-9] \d
    var str = "123abc4523kkk";
    var patt1 = /[0-9]/g;
    var result = str.match(patt1);
    console.log(result);    // ['1', '2', '3', '4', '5', '2', '3']

    // (red|green)
    // : 또는, 붙어있는 단어를 찾아줌
    var str = "re, green, red, gree, gen, red, blue, yellow";
    var patt1 = /(red|green)/g;
    var result = str.match(patt1);
    console.log(result);    // ['green', 'red', 'red']

    // \d 
    // : 숫자 [0-9]
    var str = "Give 100";
    var patt1 = /\d/g;
    var result = str.match(patt1);
    console.log(result);    // ['1', '0', '0']

    // \s 공백
    var patt1 = /\s/g;

    // \b
    // : 시작이 LO인것을 찾는다.
    var str = "HELLO, LOOK AT ME!";
    var patt1 = /\bLO/g;
    var result = str.search(patt1);
    console.log(result);    // 7

    // + 
    //n+ : n이 최소한 1개 이상
    var str = "Hellooo";
    var patt1 = /o+/g;
    console.log(str.match(patt1));  // ['ooo']

    //n* : n이 0 혹은 n개
    var str = "Hellooo World";
    var patt1 = /lo*/g;
    console.log(str.match(patt1));  // ['l', 'looo', 'l']

    //n? : n이 0개 이거나 1개
    var str = "1, 100 or 1000";
    var patt1 = /10?/g;
    console.log(str.match(patt1));  // ['1', '10', '10']

    //우편번호 5자리
    //32543

    // /\d{4}/
    // var patt1 = /\d{4}/;                 // if 패턴은 정수 4자리인지 검사하는데 postalcode가 5자리이므로 false
    // var patt1 = /\d{5}/;                 // : 연속된 정수가 5자리인지 확인
    // var postalcode = "p23452";           
    // console.log(patt1.test(postalcode)); // true
    
    // /^\d{5}/
    // : : 처음 시작이 무조건 숫자여야하고 5자리
    var patt1 = /^\d{5}/; 
    var postalcode = "23452p";
    console.log(patt1.test(postalcode));    // true

    // /^\d{5}$/
    // : 시작과 끝이 무조건 숫자여야하고 5자리
    var patt1 = /^\d{5}$/; 
    var postalcode = "23452p";
    console.log(patt1.test(postalcode));    // false

    //전화번호
    //010-2312-3354
    var patt1 = /^(010)-\d{4}-\d{4}$/;
    var tel = "010-2312-3354";
    console.log(patt1.test(tel));

    //이메일 주소
    //seungwon.go@gmail.com
    //seungwon.go@gmail.co.kr
    // ^\w+([\.-]?\w+)
    // ^\w+ : word, 시작은 문자로 하나 이상의 문자가 와야함
    // [\.-]? : .  or - 가 있을 수도 있고 없을 수도 있다. 
    // (\ : 특수문자를 일반문자로 쓸 수 있도록 도와줌)
    // \w+ : 하나 이상의 문자가 와야한다.
    // ([\.-]?\w+)* = (문자)* : 문자가 있을 수도 있고 없을 수도 있다.

    // \w+(\.\w{2,3})+$
    // \w+ : 하나 이상의 문자가 와야한다.
    // \. : . 무조건 이썽야함
    // \w{2,3} : 2~3자리 문자를 받는다
    // (\.\w{2,3})+ : 무조건 하나 이상
    // $ : 끝 
    var patt1 = /^\w+([\.-]?\w+)*@\w+(\.\w{2,3})+$/;
    console.log(patt1.test("seungwon@gmail.co.kr")); // true
    console.log(patt1.test("@gmail.co.kr"));         // false
    console.log(patt1.test(".@gmail.co.kr"));        // false
    console.log(patt1.test("seungwon@.co.kr"));      // false
    console.log(patt1.test("seungwon@co.kr"));       // true


  </script>
</body>
</html>